services:
  claude:
    image: ${CODER_IMAGE:-boringhappy/coder:main}
    container_name: claude-dev
    stdin_open: true
    tty: true
    volumes:
      - ~/.claude_in_docker:/home/agent/.claude
    environment:
      - GIT_REPO_URL=${GIT_REPO_URL:-https://github.com/BoringHappy/Coder.git}
      - BRANCH_NAME=${BRANCH_NAME:-test-auto-coder}
      - PR_NUMBER=${PR_NUMBER:-}
      - PR_TITLE=${PR_TITLE:-Test auto coder}
      - GITHUB_TOKEN=${GITHUB_TOKEN}
      - GIT_USER_NAME=${GIT_USER_NAME}
      - GIT_USER_EMAIL=${GIT_USER_EMAIL}
    env_file:
      - .env
    working_dir: /home/agent/workspace
