services:
  # Claude Code - Full development environment
  claude:
    build:
      context: .
      dockerfile: Dockerfile.claude
      args:
        BASE_IMAGE: ubuntu:25.10
    image: ghcr.io/boringhappy/coder:main
    container_name: claude-dev
    stdin_open: true
    tty: true
    volumes:
      - .:/home/agent/workspace
      - ~/.claude:/home/agent/.claude
      - ~/.gitconfig:/home/agent/.gitconfig:ro
      - ~/.config/gh:/home/agent/.config/gh:ro
    environment:
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
    working_dir: /home/agent/workspace
