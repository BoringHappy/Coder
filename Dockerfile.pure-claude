# Minimal Docker environment for running Claude Code with --dangerously-skip-permissions
# Uses the base image for system packages, only adds Claude Code on top
ARG BASE_IMAGE=ghcr.io/boringhappy/codemate-base:latest
FROM ${BASE_IMAGE}

# Install Claude Code as agent user
USER agent
RUN curl -fsSL https://claude.ai/install.sh | bash

WORKDIR /home/agent

CMD ["claude", "--dangerously-skip-permissions"]
